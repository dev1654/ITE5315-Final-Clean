<h1>{{title}}</h1>

<div class="search-options">
    <form action="/search/results" method="GET">
        <div class="form-group">
            <label for="searchType">Search By:</label>
            <select id="searchType" name="searchType" onchange="toggleSearchFields()">
                <option value="name">Property Name</option>
                <option value="id">Property ID</option>
                <option value="neighbourhood">Neighbourhood</option>
                <option value="property_type">Property Type</option>
                <option value="all">All Fields</option>
            </select>
        </div>

        <!-- Name Search -->
        <div class="search-field" id="nameField" style="display: none;">
            <div class="form-group">
                <label for="name">Property Name:</label>
                <input type="text" id="name" name="name" placeholder="Enter property name...">
            </div>
        </div>

        <!-- ID Search -->
        <div class="search-field" id="idField" style="display: none;">
            <div class="form-group">
                <label for="id">Property ID:</label>
                <input type="text" id="id" name="id" placeholder="Enter property ID...">
            </div>
        </div>

        <!-- Neighbourhood Search -->
        <div class="search-field" id="neighbourhoodField" style="display: none;">
            <div class="form-group">
                <label for="neighbourhood">Neighbourhood:</label>
                <input type="text" id="neighbourhood" name="neighbourhood" placeholder="Enter neighbourhood...">
            </div>
        </div>

        <!-- Property Type Search -->
        <div class="search-field" id="propertyTypeField" style="display: none;">
            <div class="form-group">
                <label for="property_type">Property Type:</label>
                <input type="text" id="property_type" name="property_type" placeholder="Enter property type...">
            </div>
        </div>

        <!-- All Fields Search -->
        <div class="search-field" id="allField" style="display: none;">
            <div class="form-group">
                <label for="allTerms">Search All Fields:</label>
                <input type="text" id="allTerms" name="allTerms" placeholder="Enter search terms...">
            </div>
        </div>

        <button type="submit">Search</button>
        <button type="button" onclick="clearForm()">Clear</button>
        <a href="/viewData" class="btn">‚Üê Back to All Data</a>
    </form>
</div>

<script>
    function toggleSearchFields() {
        const searchType = document.getElementById('searchType').value;

        // Hide all fields first
        document.querySelectorAll('.search-field').forEach(field => {
            field.style.display = 'none';
        });

        // Show the selected field
        const selectedField = document.getElementById(searchType + 'Field');
        if (selectedField) {
            selectedField.style.display = 'block';
        }
    }

    function clearForm() {
        document.querySelectorAll('input[type="text"]').forEach(input => {
            input.value = '';
        });
    }

    // Initialize on page load
    document.addEventListener('DOMContentLoaded', function() {
        toggleSearchFields();
    });
</script>

<style>
    .error-messages {
        background-color: #ffeaa7;
        border: 1px solid #fdcb6e;
        border-radius: 4px;
        padding: 1rem;
        margin-bottom: 1rem;
    }

    .error {
        color: #d63031;
        margin-bottom: 0.5rem;
    }

    .search-options {
        max-width: 600px;
        margin: 0 auto;
    }

    .search-field {
        margin-bottom: 1rem;
    }

    .form-group {
        margin-bottom: 1rem;
    }

    label {
        display: block;
        margin-bottom: 0.5rem;
        font-weight: bold;
        color: #2c3e50;
    }

    select, input[type="text"], input[type="number"] {
        width: 100%;
        padding: 0.75rem;
        border: 2px solid #bdc3c7;
        border-radius: 4px;
        font-size: 1rem;
        box-sizing: border-box;
    }

    select:focus, input:focus {
        border-color: #3498db;
        outline: none;
        box-shadow: 0 0 5px rgba(52, 152, 219, 0.3);
    }

    button {
        background-color: #3498db;
        color: white;
        padding: 0.75rem 1.5rem;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 1rem;
        margin-right: 0.5rem;
        transition: background-color 0.3s;
    }

    button:hover {
        background-color: #2980b9;
    }

    button[type="button"] {
        background-color: #95a5a6;
    }

    button[type="button"]:hover {
        background-color: #7f8c8d;
    }

    .btn {
        display: inline-block;
        background-color: #95a5a6;
        color: white;
        padding: 0.75rem 1.5rem;
        text-decoration: none;
        border-radius: 4px;
        margin-left: 1rem;
        transition: background-color 0.3s;
    }

    .btn:hover {
        background-color: #7f8c8d;
        text-decoration: none;
        color: white;
    }
</style>